#!/usr/bin/env sh
set -eu

FILE="mk"
if [ -f ${FILE} ]; then
	$FILE "$@"
	exit 0
fi

# If user has passed 'clean' argument, delete these files/directories if they exist:
#
# .jsproject/
# ~/bin/<project_name> ?? how do we do this

MAKEFILE=.jsproject/make.sh
DRIVERFILE=.jsproject/driver.sh

array="$@"
if [[ " ${array[*]} " =~ " clean " ]]; then
  echo "clean was an argument"
  rm -f ${DRIVERFILE}
fi


if [[ ! -f ${MAKEFILE} ]]; then
	echo "Calling dev to create a make file"
	dev createmake
fi

${FILE} "$@"
