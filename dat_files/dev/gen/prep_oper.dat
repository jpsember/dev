enum PrepOperType {
    none, init, filter, restore, auto,
}

class prep_config {
    enum PrepOperType oper;

    string source_branch;
    string target_branch;

    // ---- These are exposed only for unit tests

    // If in testing mode, it doesn't use source/target branches; instead,
    // it constructs a copy of the project directory ("xxx") in a sibling directory, "xxx-target", and
    // applies the changes to that as if a call to `git branch` was made instead.

    bool testing_mode;

    // If empty, uses a hidden file on the desktop
    //
    File cache_dir;

    File cache_filename = ".prep_oper_cache";

    // A substring to insert in the cache path to distinguish from other projects.
    // If empty, uses something derived from the full project path.
    string cache_path_expr;

    bool skip_pattern_search;

    // If empty, uses current directory
    File project_root_for_testing;

}

